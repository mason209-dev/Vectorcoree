<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta name="description" content="Branding Portfolio by Vector Core — complete brand identities with strategic design and real-world application."/>
  <title>Branding Portfolio | Vector Core</title>
  
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  
  <!-- Google Fonts (added for consistency with main site) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    /* ── Preloader (exact from Motion Graphics) ────────────────────────────── */
    #preloader {
      position: fixed;
      inset: 0;
      background: #0b0c10;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 1.2s ease;
    }
    #preloader.fade-out { opacity: 0; visibility: hidden; }
    .preloader-logo {
      height: 150px;
      animation: pulseGlow 2s ease-in-out infinite;
    }

    /* ── Falling Particles (exact from Motion Graphics) ────────────────────── */
    #particles {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 1;
    }
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #00f2fe;
      border-radius: 50%;
      opacity: 0;
      box-shadow: 0 0 12px #00f2fe;
      animation: fall linear infinite;
    }

    /* ── Fixed Nav (exact from Motion Graphics) ────────────────────────────── */
    .nav {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      background: rgba(11, 12, 16, 0.95);
      backdrop-filter: blur(12px);
      padding: 12px 0;
    }
    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    .logo {
      height: 40px;
      filter: drop-shadow(0 0 12px #00f2fe);
    }
    .back-btn {
      color: #00f2fe;
      font-size: 1.1rem;
      text-decoration: none;
      transition: color 0.3s;
    }
    .back-btn:hover { color: #00f2fe; text-decoration: underline; }

    /* ── Hero Intro (exact from Motion Graphics) ───────────────────────────── */
    .hero-intro {
      text-align: center;
      padding: 160px 0 120px;
    }
    .hero-intro .hero-logo {
      height: 180px;
      margin-bottom: 40px;
      animation: breathe 4s ease-in-out infinite;
    }
    .hero-intro h1 {
      font-size: 4.8rem;
      font-weight: 800;
      margin-bottom: 30px;
    }
    .hero-intro p {
      font-size: 1.5rem;
      max-width: 900px;
      margin: 0 auto 60px;
      color: #aaa;
    }
    .subtitle {
      color: #00f2fe;
      font-size: 1.4rem;
      margin-bottom: 80px;
    }

    /* Your original styles - completely unchanged below this line */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 100%; overflow-x: hidden; background: #0a0a0a; }
    .container { max-width: 1400px; margin: 0 auto; padding: 0 2rem; }
    @media (max-width: 768px) { .container { padding: 0 1rem; } }

    .reveal-section { opacity: 0; transform: translateY(100px); transition: opacity 1.1s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 1.1s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
    .reveal-section.is-visible { opacity: 1; transform: translateY(0); }
    .reveal-section > * { opacity: 0; transform: translateY(60px); transition: all 0.9s ease-out; transition-delay: calc(var(--i) * 150ms); }
    .reveal-section.is-visible > * { opacity: 1; transform: translateY(0); }

    .carousel-container {
      position: relative;
      overflow: hidden;
      border-radius: 12px;
      border: 1px solid rgba(0, 212, 255, 0.15);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      background: #111;
      margin-bottom: 1.5rem;
      height: 400px;
      cursor: grab;
    }

    .carousel-track {
      display: flex;
      width: 100%;
      height: 100%;
      transition: transform 0.8s ease-in-out;
    }

    .carousel-slide {
      min-width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #111;
    }

    .carousel-slide img {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
    }

    .carousel-progress {
      position: absolute;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.6rem;
      z-index: 5;
    }

    .carousel-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .carousel-dot.active {
      background: #00d4ff;
      transform: scale(1.4);
    }

    .nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.6);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.8rem;
      font-weight: bold;
      z-index: 10;
      transition: all 0.3s ease;
      opacity: 0.8;
    }

    .nav-arrow:hover {
      background: #00d4ff;
      color: #0a0a0a;
      opacity: 1;
      transform: translateY(-50%) scale(1.1);
    }

    .prev { left: 10px; }
    .next { right: 10px; }

    @media (max-width: 768px) {
      .nav-arrow { display: none; }
    }

    .pop-button-wrapper {
      text-align: center;
      margin-top: 1rem;
    }

    .pop-button {
      display: inline-block;
      padding: 12px 28px;
      background: rgba(0, 212, 255, 0.15);
      border: 1px solid #00d4ff;
      color: #00d4ff;
      border-radius: 9999px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1.1rem;
    }

    .pop-button:hover {
      background: #00d4ff;
      color: #0a0a0a;
      transform: translateY(-2px);
    }

    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.98);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }

    .modal.active { display: flex; }

    .modal-content {
      position: relative;
      width: 100%;
      max-width: 1400px;
      height: 85vh;
      overflow: hidden;
    }

    .modal-close {
      position: absolute;
      top: 1.5rem;
      right: 2rem;
      color: white;
      font-size: 3rem;
      cursor: pointer;
      z-index: 10;
    }

    .modal-track {
      display: flex;
      width: 100%;
      height: 100%;
      transition: transform 0.5s ease;
    }

    .modal-slide {
      min-width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-slide img {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
    }

    .modal-progress {
      position: absolute;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.6rem;
      z-index: 10;
    }

    .modal-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.4);
    }

    .modal-dot.active {
      background: #00d4ff;
      transform: scale(1.3);
    }

    /* Animations (shared with main site) */
    @keyframes pulseGlow {
      0%, 100% { filter: drop-shadow(0 0 30px #00f2fe); }
      50% { filter: drop-shadow(0 0 80px #00f2fe); }
    }
    @keyframes breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.06); }
    }
    @keyframes fall {
      0% { transform: translateY(-100px); opacity: 0; }
      10% { opacity: 0.8; }
      90% { opacity: 0.8; }
      100% { transform: translateY(calc(100vh + 100px)); opacity: 0; }
    }
  </style>
</head>
<body class="bg-[#0a0a0a] text-gray-100 font-sans loading-active">

  <!-- Preloader -->
  <div id="preloader">
    <img src="files/logo.png" alt="Vector Core" class="preloader-logo">
  </div>

  <!-- Falling Particles -->
  <div id="particles"></div>

  <!-- Fixed Nav (replaces your original header) -->
  <nav class="nav">
    <div class="nav-container">
      <a href="index.html"><img src="files/logo.png" alt="Vector Core" class="logo"></a>
      <a href="index.html" class="back-btn">← Back to Main</a>
    </div>
  </nav>

  <main class="container pt-32 pb-40">

    <!-- Hero Intro (new cinematic entrance) -->
    <section class="hero-intro">
      <img src="files/logo.png" alt="Vector Core" class="hero-logo">
      <h1>Branding Showcase</h1>
      <p class="subtitle">Complete identities that elevate brands</p>
      <p>Strategic, cohesive brand systems built for real-world impact — from logo to full application.</p>
    </section>

    <!-- Your original content starts here - unchanged -->
    <section class="text-center mb-32 reveal-section">
      <h1 class="text-5xl md:text-6xl font-bold mb-6">Branding Showcase</h1>
      <p class="text-xl text-gray-400 max-w-3xl mx-auto">
        Complete brand identities that elevate businesses with strategic design and real-world application.
      </p>
    </section>

    <!-- Project 1 -->
    <section class="reveal-section mb-48" style="--i:0">
      <h2 class="text-4xl font-bold mb-6">BlueWave Plumbing Brand Identity</h2>
      
      <p class="text-lg text-gray-300 mb-10 leading-relaxed">
        Bold, fluid identity for a modern plumbing service — dynamic wave logo, blue palette, clean sans-serif typography.
      </p>

      <div class="carousel-container" data-project="1">
        <button class="nav-arrow prev">&lt;</button>
        <div class="carousel-track">
          <div class="carousel-slide"><img src="images/branding-bluewave-logo-primary.jpg" alt="Primary Logo"></div>
          <div class="carousel-slide"><img src="images/branding-bluewave-logo-variations.jpg" alt="Logo Variations"></div>
          <div class="carousel-slide"><img src="images/branding-bluewave-color-palette.jpg" alt="Color Palette & Typography"></div>
          <div class="carousel-slide"><img src="images/branding-bluewave-business-card.jpg" alt="Business Card"></div>
          <div class="carousel-slide"><img src="images/branding-bluewave-packaging.jpg" alt="Packaging"></div>
          <div class="carousel-slide"><img src="images/branding-bluewave-social.jpg" alt="Social Media"></div>
          <div class="carousel-slide"><img src="images/branding-bluewave-signage.jpg" alt="Signage"></div>
          <div class="carousel-slide"><img src="images/branding-bluewave-apparel.jpg" alt="Apparel"></div>
        </div>
        <button class="nav-arrow next">&gt;</button>
        <div class="carousel-progress">
          <div class="carousel-dot active"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
        </div>
      </div>

      <div class="pop-button-wrapper">
        <button class="pop-button">Pop to View Full Brand System</button>
      </div>
    </section>

    <!-- Project 2 -->
    <section class="reveal-section mb-48" style="--i:1">
      <h2 class="text-4xl font-bold mb-6">Luxe Skincare Brand System</h2>
      
      <p class="text-lg text-gray-300 mb-10 leading-relaxed">
        Premium skincare identity with elegant serif logo, soft neutrals, luxurious textures.
      </p>

      <div class="carousel-container" data-project="2">
        <button class="nav-arrow prev">&lt;</button>
        <div class="carousel-track">
          <div class="carousel-slide"><img src="images/branding-luxe-logo.jpg" alt="Logo"></div>
          <div class="carousel-slide"><img src="images/branding-luxe-palette.jpg" alt="Color Palette"></div>
          <div class="carousel-slide"><img src="images/branding-luxe-packaging.jpg" alt="Packaging"></div>
          <div class="carousel-slide"><img src="images/branding-luxe-business-card.jpg" alt="Business Card"></div>
          <div class="carousel-slide"><img src="images/branding-luxe-social.jpg" alt="Social Media"></div>
          <div class="carousel-slide"><img src="images/branding-luxe-website.jpg" alt="Website"></div>
          <div class="carousel-slide"><img src="images/branding-luxe-retail.jpg" alt="Retail Display"></div>
          <div class="carousel-slide"><img src="images/branding-luxe-apparel.jpg" alt="Apparel"></div>
        </div>
        <button class="nav-arrow next">&gt;</button>
        <div class="carousel-progress">
          <div class="carousel-dot active"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
        </div>
      </div>

      <div class="pop-button-wrapper">
        <button class="pop-button">Pop to View Full Brand System</button>
      </div>
    </section>

    <!-- Project 3 -->
    <section class="reveal-section mb-48" style="--i:2">
      <h2 class="text-4xl font-bold mb-6">Tech Startup Brand Identity</h2>
      
      <p class="text-lg text-gray-300 mb-10 leading-relaxed">
        Futuristic tech brand with geometric logo, vibrant cyan accents, modern sans-serif.
      </p>

      <div class="carousel-container" data-project="3">
        <button class="nav-arrow prev">&lt;</button>
        <div class="carousel-track">
          <div class="carousel-slide"><img src="images/branding-tech-logo.jpg" alt="Logo"></div>
          <div class="carousel-slide"><img src="images/branding-tech-palette.jpg" alt="Color Palette"></div>
          <div class="carousel-slide"><img src="images/branding-tech-card.jpg" alt="Business Card"></div>
          <div class="carousel-slide"><img src="images/branding-tech-app-icons.jpg" alt="App Icons"></div>
          <div class="carousel-slide"><img src="images/branding-tech-website.jpg" alt="Website"></div>
          <div class="carousel-slide"><img src="images/branding-tech-pitch-deck.jpg" alt="Pitch Deck"></div>
          <div class="carousel-slide"><img src="images/branding-tech-merch.jpg" alt="Merchandise"></div>
          <div class="carousel-slide"><img src="images/branding-tech-signage.jpg" alt="Signage"></div>
        </div>
        <button class="nav-arrow next">&gt;</button>
        <div class="carousel-progress">
          <div class="carousel-dot active"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
        </div>
      </div>

      <div class="pop-button-wrapper">
        <button class="pop-button">Pop to View Full Brand System</button>
      </div>
    </section>

    <!-- Project 4 -->
    <section class="reveal-section mb-48" style="--i:3">
      <h2 class="text-4xl font-bold mb-6">Coffee Shop Rebrand</h2>
      
      <p class="text-lg text-gray-300 mb-10 leading-relaxed">
        Warm, approachable coffee brand with hand-drawn logo, earthy tones, custom illustrations.
      </p>

      <div class="carousel-container" data-project="4">
        <button class="nav-arrow prev">&lt;</button>
        <div class="carousel-track">
          <div class="carousel-slide"><img src="images/branding-coffee-logo.jpg" alt="Logo"></div>
          <div class="carousel-slide"><img src="images/branding-coffee-palette.jpg" alt="Color Palette"></div>
          <div class="carousel-slide"><img src="images/branding-coffee-packaging.jpg" alt="Packaging"></div>
          <div class="carousel-slide"><img src="images/branding-coffee-menu.jpg" alt="Menu"></div>
          <div class="carousel-slide"><img src="images/branding-coffee-signage.jpg" alt="Signage"></div>
          <div class="carousel-slide"><img src="images/branding-coffee-social.jpg" alt="Social Media"></div>
          <div class="carousel-slide"><img src="images/branding-coffee-apparel.jpg" alt="Apparel"></div>
          <div class="carousel-slide"><img src="images/branding-coffee-shop.jpg" alt="Shop Interior"></div>
        </div>
        <button class="nav-arrow next">&gt;</button>
        <div class="carousel-progress">
          <div class="carousel-dot active"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
        </div>
      </div>

      <div class="pop-button-wrapper">
        <button class="pop-button">Pop to View Full Brand System</button>
      </div>
    </section>

    <!-- Project 5 -->
    <section class="reveal-section mb-48" style="--i:4">
      <h2 class="text-4xl font-bold mb-6">Fitness Gym Brand System</h2>
      
      <p class="text-lg text-gray-300 mb-10 leading-relaxed">
        Energetic fitness brand with bold logo, high-contrast colors, motivational typography.
      </p>

      <div class="carousel-container" data-project="5">
        <button class="nav-arrow prev">&lt;</button>
        <div class="carousel-track">
          <div class="carousel-slide"><img src="images/branding-fitness-logo.jpg" alt="Logo"></div>
          <div class="carousel-slide"><img src="images/branding-fitness-palette.jpg" alt="Color Palette"></div>
          <div class="carousel-slide"><img src="images/branding-fitness-card.jpg" alt="Business Card"></div>
          <div class="carousel-slide"><img src="images/branding-fitness-apparel.jpg" alt="Apparel"></div>
          <div class="carousel-slide"><img src="images/branding-fitness-signage.jpg" alt="Facility Signage"></div>
          <div class="carousel-slide"><img src="images/branding-fitness-social.jpg" alt="Social Media"></div>
          <div class="carousel-slide"><img src="images/branding-fitness-app.jpg" alt="App UI"></div>
          <div class="carousel-slide"><img src="images/branding-fitness-merch.jpg" alt="Merchandise"></div>
        </div>
        <button class="nav-arrow next">&gt;</button>
        <div class="carousel-progress">
          <div class="carousel-dot active"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
        </div>
      </div>

      <div class="pop-button-wrapper">
        <button class="pop-button">Pop to View Full Brand System</button>
      </div>
    </section>

    <!-- Project 6 -->
    <section class="reveal-section mb-48" style="--i:5">
      <h2 class="text-4xl font-bold mb-6">Luxury Real Estate Brand</h2>
      
      <p class="text-lg text-gray-300 mb-10 leading-relaxed">
        Sophisticated real estate brand with minimalist logo, gold/black palette, elegant serif fonts.
      </p>

      <div class="carousel-container" data-project="6">
        <button class="nav-arrow prev">&lt;</button>
        <div class="carousel-track">
          <div class="carousel-slide"><img src="images/branding-realestate-logo.jpg" alt="Logo"></div>
          <div class="carousel-slide"><img src="images/branding-realestate-palette.jpg" alt="Color Palette"></div>
          <div class="carousel-slide"><img src="images/branding-realestate-card.jpg" alt="Business Card"></div>
          <div class="carousel-slide"><img src="images/branding-realestate-brochure.jpg" alt="Brochure"></div>
          <div class="carousel-slide"><img src="images/branding-realestate-website.jpg" alt="Website"></div>
          <div class="carousel-slide"><img src="images/branding-realestate-signage.jpg" alt="Property Signage"></div>
          <div class="carousel-slide"><img src="images/branding-realestate-social.jpg" alt="Social Media"></div>
          <div class="carousel-slide"><img src="images/branding-realestate-merch.jpg" alt="Merchandise"></div>
        </div>
        <button class="nav-arrow next">&gt;</button>
        <div class="carousel-progress">
          <div class="carousel-dot active"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
          <div class="carousel-dot"></div>
        </div>
      </div>

      <div class="pop-button-wrapper">
        <button class="pop-button">Pop to View Full Brand System</button>
      </div>
    </section>

  </main>

  <!-- Footer (exact replacement from Motion Graphics reference) -->
  <footer>
    <div class="container">
      <img src="files/logo.png" alt="Vector Core" class="footer-logo">
      <p class="large">Premium Vector Graphics & Branding Agency</p>
      <div class="agency-social-links">
        <a href="https://www.instagram.com/vectorcoree?igsh=MTYwaHFyaDZhcWNvZQ==" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="https://www.linkedin.com/in/vectorcoree" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
        <a href="https://www.behance.net/wisdomjohnson11a-behance" aria-label="Behance"><i class="fab fa-behance"></i></a>
        <a href="https://www.tiktok.com/@vectorcoree?_r=1&_t=ZS-92ijyVxQ762" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
      </div>
      <p>© <span id="year"></span> Vector Core. All rights reserved.</p>
    </div>
  </footer>

  <!-- Modal (your original) -->
  <div id="brandingModal" class="modal">
    <div class="modal-content">
      <span class="modal-close">×</span>
      <div class="modal-track"></div>
      <div class="modal-progress">
        <!-- Dots will be dynamically generated -->
      </div>
    </div>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Preloader fade-out (added)
    window.addEventListener('load', () => {
      const preloader = document.getElementById('preloader');
      setTimeout(() => preloader.classList.add('fade-out'), 800);
      document.body.classList.remove('loading-active');
    });

    // Falling particles (added)
    const particlesContainer = document.getElementById('particles');
    for (let i = 0; i < 30; i++) {
      const p = document.createElement('div');
      p.classList.add('particle');
      p.style.left = Math.random() * 100 + 'vw';
      p.style.animationDuration = (Math.random() * 15 + 15) + 's';
      p.style.animationDelay = Math.random() * 10 + 's';
      particlesContainer.appendChild(p);
    }

    // ── YOUR ORIGINAL SCRIPT BELOW - UNCHANGED ───────────────────────────────
    document.addEventListener('DOMContentLoaded', () => {
      const sections = document.querySelectorAll('.reveal-section');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          entry.target.classList.toggle('is-visible', entry.isIntersecting);
        });
      }, { threshold: 0.15, rootMargin: "0px 0px -10% 0px" });

      sections.forEach(section => observer.observe(section));

      // Carousel logic
      document.querySelectorAll('.carousel-container').forEach(container => {
        const track = container.querySelector('.carousel-track');
        const dots = container.querySelectorAll('.carousel-dot');
        const prevBtn = container.querySelector('.prev');
        const nextBtn = container.querySelector('.next');
        const slidesCount = track.children.length;
        let currentIndex = 0;
        let interval;

        function updateCarousel() {
          track.style.transform = `translateX(-${currentIndex * 100}%)`;
          dots.forEach((dot, i) => dot.classList.toggle('active', i === currentIndex));
        }

        function nextSlide() {
          currentIndex = (currentIndex + 1) % slidesCount;
          updateCarousel();
        }

        function prevSlide() {
          currentIndex = (currentIndex - 1 + slidesCount) % slidesCount;
          updateCarousel();
        }

        interval = setInterval(nextSlide, 3500); // auto-scroll every 3.5s

        // Arrow buttons (only on desktop/laptop)
        if (prevBtn) prevBtn.addEventListener('click', prevSlide);
        if (nextBtn) nextBtn.addEventListener('click', nextSlide);

        // Mobile touch swipe with vertical scroll allowance
        let touchStartX = 0;
        let touchStartY = 0;
        container.addEventListener('touchstart', (e) => {
          touchStartX = e.touches[0].clientX;
          touchStartY = e.touches[0].clientY;
          clearInterval(interval); // Pause auto-scroll while touching
        });
        container.addEventListener('touchmove', (e) => {
          const touchCurrentX = e.touches[0].clientX;
          const touchCurrentY = e.touches[0].clientY;
          const diffX = touchStartX - touchCurrentX;
          const diffY = touchStartY - touchCurrentY;
          // Only prevent default if horizontal movement is dominant
          if (Math.abs(diffX) > Math.abs(diffY)) {
            e.preventDefault(); // Prevent scrolling for horizontal swipe
          }
        });
        container.addEventListener('touchend', (e) => {
          const touchEndX = e.changedTouches[0].clientX;
          const touchEndY = e.changedTouches[0].clientY;
          const diffX = touchStartX - touchEndX;
          const diffY = touchStartY - touchEndY;
          if (Math.abs(diffX) > 50 && Math.abs(diffX) > Math.abs(diffY)) {
            if (diffX > 0) nextSlide();
            else prevSlide();
          }
          interval = setInterval(nextSlide, 3500); // Resume auto-scroll
        });

        // Mouse drag support (desktop)
        let isDragging = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        container.addEventListener('mousedown', (e) => {
          if (e.button === 0) {
            startPos = e.pageX;
            isDragging = true;
            container.style.cursor = 'grabbing';
            clearInterval(interval); // Pause auto-scroll while dragging
          }
        });
        document.addEventListener('mousemove', (e) => {
          if (isDragging) {
            e.preventDefault();
            const currentPosition = e.pageX;
            const diff = startPos - currentPosition;
            track.style.transform = `translateX(${prevTranslate - diff}px)`;
          }
        });
        document.addEventListener('mouseup', () => {
          if (isDragging) {
            isDragging = false;
            container.style.cursor = 'grab';
            const movedBy = currentTranslate - prevTranslate;
            if (movedBy > 100) nextSlide();
            else if (movedBy < -100) prevSlide();
            updateCarousel();
            prevTranslate = -currentIndex * 100 * (track.offsetWidth / slidesCount);
            interval = setInterval(nextSlide, 3500); // Resume auto-scroll
          }
        });

        // Tap or click individual slides to open modal at that slide
        Array.from(track.children).forEach((slide, index) => {
          slide.addEventListener('click', (e) => {
            e.preventDefault();
            if (!isDragging) { // Only trigger if not dragging
              openModal(index);
            }
          });
        });

        // Pop to modal on click (carousel or button) starting from current slide
        const openModal = (startIndex) => {
          const modal = document.getElementById('brandingModal');
          const modalTrack = modal.querySelector('.modal-track');
          const modalProgress = modal.querySelector('.modal-progress');
          modalTrack.innerHTML = '';
          modalProgress.innerHTML = '';

          // Clone slides
          Array.from(track.children).forEach((slide, i) => {
            const modalSlide = document.createElement('div');
            modalSlide.className = 'modal-slide';
            modalSlide.innerHTML = slide.innerHTML;
            modalTrack.appendChild(modalSlide);

            const dot = document.createElement('div');
            dot.className = 'modal-dot';
            if (i === startIndex) dot.classList.add('active');
            modalProgress.appendChild(dot);
          });

          currentIndex = startIndex;
          modalTrack.style.transform = `translateX(-${currentIndex * 100}%)`;
          modal.classList.add('active');

          // Modal touch swipe with vertical scroll allowance
          let modalTouchStartX = 0;
          let modalTouchStartY = 0;
          modalTrack.addEventListener('touchstart', (e) => {
            modalTouchStartX = e.touches[0].clientX;
            modalTouchStartY = e.touches[0].clientY;
            clearInterval(interval); // Pause auto-scroll
          });
          modalTrack.addEventListener('touchmove', (e) => {
            const modalTouchCurrentX = e.touches[0].clientX;
            const modalTouchCurrentY = e.touches[0].clientY;
            const diffX = modalTouchStartX - modalTouchCurrentX;
            const diffY = modalTouchStartY - modalTouchCurrentY;
            if (Math.abs(diffX) > Math.abs(diffY)) {
              e.preventDefault(); // Prevent scrolling for horizontal swipe
            }
          });
          modalTrack.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].clientX;
            const touchEndY = e.changedTouches[0].clientY;
            const diffX = modalTouchStartX - touchEndX;
            const diffY = modalTouchStartY - touchEndY;
            if (Math.abs(diffX) > 50 && Math.abs(diffX) > Math.abs(diffY)) {
              if (diffX > 0) currentIndex = (currentIndex + 1) % slidesCount;
              else currentIndex = (currentIndex - 1 + slidesCount) % slidesCount;
              modalTrack.style.transform = `translateX(-${currentIndex * 100}%)`;
              modalProgress.querySelectorAll('.modal-dot').forEach((dot, i) => dot.classList.toggle('active', i === currentIndex));
            }
            interval = setInterval(nextSlide, 3500); // Resume auto-scroll
          });

          // Modal mouse drag
          let modalIsDragging = false;
          let modalStartPos = 0;
          let modalPrevTranslate = -startIndex * 100 * (modalTrack.offsetWidth / slidesCount);
          modalTrack.addEventListener('mousedown', (e) => {
            if (e.button === 0) {
              modalIsDragging = true;
              modalStartPos = e.pageX;
              clearInterval(interval); // Pause auto-scroll
            }
          });
          document.addEventListener('mousemove', (e) => {
            if (modalIsDragging) {
              e.preventDefault();
              const currentPosition = e.pageX;
              const diff = modalStartPos - currentPosition;
              modalTrack.style.transform = `translateX(${modalPrevTranslate - diff}px)`;
            }
          });
          document.addEventListener('mouseup', () => {
            if (modalIsDragging) {
              modalIsDragging = false;
              const movedBy = modalPrevTranslate - (modalTrack.offsetWidth * currentIndex);
              if (movedBy > 100) currentIndex = (currentIndex + 1) % slidesCount;
              else if (movedBy < -100) currentIndex = (currentIndex - 1 + slidesCount) % slidesCount;
              modalTrack.style.transform = `translateX(-${currentIndex * 100}%)`;
              modalProgress.querySelectorAll('.modal-dot').forEach((dot, i) => dot.classList.toggle('active', i === currentIndex));
              modalPrevTranslate = -currentIndex * 100 * (modalTrack.offsetWidth / slidesCount);
              interval = setInterval(nextSlide, 3500); // Resume auto-scroll
            }
          });
        };

        container.nextElementSibling.addEventListener('click', () => openModal(currentIndex));
      });

      // Close modal
      document.querySelector('.modal-close').addEventListener('click', () => {
        document.getElementById('brandingModal').classList.remove('active');
      });

      document.getElementById('brandingModal').addEventListener('click', e => {
        if (e.target === e.currentTarget) {
          document.querySelector('.modal-close').click();
        }
      });
    });
  </script>

</body>
</html>
